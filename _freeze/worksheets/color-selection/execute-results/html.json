{
  "hash": "07e0a208e5daed82795f35a6cc77b692",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Color selection\"\nauthor: \"Claus O. Wilke\"\nformat: live-html\nengine: knitr\nwebr:\n  render-df: gt-interactive\n---\n\n::: {.cell}\n\n:::\n\n\n\n\n\n## Introduction\n\nIn this worksheet, you will practice choosing your own colors.\n\nFirst we need to load the required R packages. Please wait a moment until the live R session is fully set up and all packages are loaded.\n\n\n\n\n::: {.cell edit='false'}\n```{webr}\n#| warning: false\n#| edit: false\nlibrary(tidyverse)\nlibrary(palmerpenguins)\n```\n:::\n\n\n\n\nNext we set up the data.\n\n\n\n\n::: {.cell edit='false'}\n```{webr}\n#| edit: false\n#| warning: false\ntemperatures <- read_csv(\"https://wilkelab.org/SDS366/datasets/tempnormals.csv\") |>\n  mutate(\n    location = factor(\n      location, levels = c(\"Death Valley\", \"Houston\", \"San Diego\", \"Chicago\")\n    )\n  ) |>\n  select(location, day_of_year, month, temperature)\n\ntemps_months <- read_csv(\"https://wilkelab.org/SDS366/datasets/tempnormals.csv\") |>\n  group_by(location, month_name) |>\n  summarize(mean = mean(temperature)) |>\n  mutate(\n    month = factor(\n      month_name,\n      levels = c(\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\")\n    ),\n    location = factor(\n      location, levels = c(\"Death Valley\", \"Houston\", \"San Diego\", \"Chicago\")\n    )\n  ) |>\n  select(-month_name)\n```\n:::\n\n\n\n\nWe will be working with two datasets that we have seen previously. First, the `penguins` dataset:\n```r\npenguins\n```\n\n::: {.column-page}\n\n\n\n::: {.cell}\n```{webr}\n#| echo: false\npenguins\n```\n:::\n\n\n\n:::\n\nSecond, the `temps_months` dataset which contains the mean temperature for each month in four different locations.\n\n\n\n::: {.cell edit='false'}\n```{webr}\n#| edit: false\ntemps_months\n```\n:::\n\n\n\n\nWe will start with a scatter plot of the `penguins` dataset.\n\n\n\n\n::: {.cell edit='false'}\n```{webr}\n#| label: penguins-base\n#| edit: false\nggplot(penguins, aes(body_mass_g, bill_length_mm, color = species)) +\n  geom_point(size = 2, na.rm = TRUE)\n```\n:::\n\n\n\n\nUse the <a href=\"../choose-color/\" target=\"_blank\">color chooser app</a> to manually pick three colors that are appropriate for a qualitative color scale. Then modify the plot to use this scale.\n\n\n\n\n::: {.cell exercise='penguins'}\n```{webr}\n#| exercise: penguins\n\n```\n:::\n\n\n\n\n::: { .hint exercise=\"penguins\" }\n::: { .callout-tip title=\"Hint\" collapse=\"false\"}\n```r\nggplot(penguins, aes(body_mass_g, bill_length_mm, color = species)) +\n  geom_point(size = 2, na.rm = TRUE) +\n  scale_color_manual(\n    values = ___ # your colors here \n  )\n```\n:::\n:::\n\n::: { .solution exercise=\"penguins\" }\n::: { .callout-tip title=\"Solution\" collapse=\"false\"}\n```r\nggplot(penguins, aes(body_mass_g, bill_length_mm, color = species)) +\n  geom_point(size = 2, na.rm = TRUE) +\n  scale_color_manual(\n    # this is just an example, there are many possible choices here\n    values = c('#BF8A21', '#A74C48', '#17517A')\n  )\n```\n:::\n:::\n\nNow let's consider this heat map of temperatures in different locations throughout the year.\n\n\n\n\n::: {.cell edit='false'}\n```{webr}\n#| label: temps-base\n#| edit: false\n#| fig-height: 3\nggplot(temps_months, aes(x = month, y = location, fill = mean)) + \n  geom_tile() + \n  coord_fixed(expand = FALSE)\n```\n:::\n\n\n\n\nUse the <a href=\"../choose-color/\" target=\"_blank\">color chooser app</a> to manually pick four to six colors that are appropriate for a sequential color scale. Then modify the plot to use this scale. (To create a manual color gradient, use `scale_fill_gradientn()`.)\n\n\n\n\n::: {.cell exercise='temps'}\n```{webr}\n#| exercise: temps\n\n```\n:::\n\n\n\n\n::: { .hint exercise=\"temps\" }\n::: { .callout-tip title=\"Hint\" collapse=\"false\"}\n```r\nggplot(temps_months, aes(x = month, y = location, fill = mean)) + \n  geom_tile() + \n  coord_fixed(expand = FALSE) +\n  scale_fill_gradientn(\n    colours = ___ # your colors here \n  )\n```\n:::\n:::\n\n::: { .solution exercise=\"temps\" }\n::: { .callout-tip title=\"Solution\" collapse=\"false\"}\n```r\nggplot(temps_months, aes(x = month, y = location, fill = mean)) + \n  geom_tile() + \n  coord_fixed(expand = FALSE) +\n  scale_fill_gradientn(\n    # this is just an example, there are many possible choices here\n    colours = c('#475010', '#8B9B38', '#C6D77C', '#F4F9E1')\n  )\n```\n:::\n:::\n",
    "supporting": [
      "color-selection_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}